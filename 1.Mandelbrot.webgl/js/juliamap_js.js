(function() { var worker_js='(function() { var g=Function,h=Array,k=Math,l="slice",n="sqrt",o="bind",p="prototype",q="call",r="apply",s=this,t=function(a){return a[q][r](a[o],arguments)},u=function(a,c){var d=c||s;if(arguments.length>2){var b=h[p][l][q](arguments,2);return function(){var c=h[p][l][q](arguments);h[p].unshift[r](c,b);return a[r](d,c)}}else return function(){return a[r](d,arguments)}},w=function(){w=g[p][o]&&g[p][o].toString().indexOf("native code")!=-1?t:u;return w[r](null,arguments)},x=function(a){var c=h[p][l][q](arguments,1);return function(){var d=h[p][l][q](arguments);d.unshift[r](d,c);return a[r](this,d)}};g[p].bind=g[p][o]||function(a){if(arguments.length>1){var c=h[p][l][q](arguments,1);c.unshift(this,a);return w[r](null,c)}else return w(this,a)};function y(a,c){this.e=a?a:h(c)}y[p].getData=function(){return this.e};y[p].copy=function(a,c,d){for(var b=this.e,e=0;e<d;++e)b[a+e]=b[c+e]};function z(a,c){this.e=a?a:new Uint8Array(c)}z[p].getData=function(){return this.e};z[p].copy=function(a,c,d){var b=this.e;b.set(b[l](a,d),c)};var A=k.log(2),B=k.log(3),E=k.log(4),F=k.log(5),I=k.log(16),J=k.log(2*k.log(1E4));function K(a,c,d,b,e){this.l=a;this.m=c;this.k=d;this.o=b;this.n=e}var T={mandelbrot:new K("julia(x, y, 0.0, 0.0)",10,L,15,15),mandel3:new K("mandelbrot3(x, y)",16,M,15,15),mandel321:new K("mandelbrot321(x, y)",20,N,15,15),mandel4:new K("mandelbrot4(x, y)",15,O,15,15),mandel5:new K("mandelbrot5(x, y)",18,P,15,15),mandel16:new K("mandelbrot16(x, y)",25,Q,15,15),julia0:new K("julia(-0.8, 0.156, x, y)",10,x(R,-0.8,0.156),15,15),julia1:new K("julia(-0.618, 0.0, x, y)",10,x(R,-0.618,0),15,15),julia2:new K("julia(-0.4, 0.6, x, y)",10,x(R,-0.4,0.6),15,15),julia3:new K("julia(0.285, -0.01, x, y)",10,x(R,0.285,-0.01),15,15),newton:new K("newton(x, y)",8,S,15,0)};function U(){}U[p].c=0;U[p].j=0;U[p].start=function(){this.h=(new Date).getTime();this.g=null;this.j=this.c=0};U[p].stop=function(){this.g=(new Date).getTime()};U[p].getTime=function(){return this.g?this.g-this.h:(new Date).getTime()-this.h};function R(a,c,d,b,e){for(var i=b,f=d*d,j=i*i,b=0;b<1E3;++b)if(i=c+2*d*i,d=a+f-j,f=d*d,j=i*i,f+j>=1E4)return a=k[n](f+j),e&&(e.c+=b*8),10*(b+2+(J-k.log(k.log(a)))/A);return 0}function L(a,c,d){return R(a,c,0,0,d)}function M(a,c,d){for(var b=0,e=0,i=0;i<1E3;++i){var f=b*b,j=f*b,m=e*e,v=m*e,b=a+j-3*b*m,e=c+3*f*e-v,f=b*b+e*e;if(f>=1E4)return d&&(d.c+=i*15),a=k[n](f),10*(i+2+(J-k.log(k.log(a)))/B)}return 0}function O(a,c,d){for(var b=new V(0,0),c=new V(a,c),a=0;a<1E3;++a){b.d();b.d();b.add(c);var e=b.f();if(e>=1E4)return d&&(d.c+=a*15),d=k[n](e),10*(a+2+(J-k.log(k.log(d)))/E)}return 0}function P(a,c,d){for(var b=new V(0,0),c=new V(a,c),a=0;a<1E3;++a){var e=new V(b.a,b.b);b.d();b.d();b.i(e);b.add(c);e=b.f();if(e>=1E4)return d&&(d.c+=a*21),d=k[n](e),10*(a+2+(J-k.log(k.log(d)))/F)}return 0}function Q(a,c,d){for(var b=new V(0,0),c=new V(a,c),a=0;a<1E3;++a){b.d();b.d();b.d();b.d();b.add(c);var e=b.f();if(e>=1E4)return d&&(d.c+=a*25),d=k[n](e),10*(a+2+(J-k.log(k.log(d)))/I)}return 0}function N(a,c,d){for(var b=0,e=0,i=0;i<1E3;++i){var f=b*b,j=f*b,m=e*e,v=m*e,j=a+j-3*b*m+f-m+b,e=c+3*f*e-v+2*b*e+e,b=j,f=b*b+e*e;if(f>=1E4)return d&&(d.c+=i*22),a=k[n](f),10*(i+2+(J-k.log(k.log(a)))/B)}return 0}function S(a,c,d){for(var b=a*a,e=c*c,i=0;i<1E3;++i){var f=(b+e)*(b+e),e=(2*a+(b-e)/f)/3,c=2*(c-a*c/f)/3,a=e,b=a*a,e=c*c,j=b*a,f=e*c,j=j-3*a*e-1,f=3*b*c-f;if(j*j+f*f<1.0E-4)return d&&(d.c+=i*27),d=100*k.log(2+k.log(2+i)),e<0.01?0+d%85:c>0.5?85+d%85:170+d%85}return 0};onmessage=function(a){for(var a=a.data,c=T[a.functionId].k,d=a.x0,b=a.y0,e=a.x1,i=a.y1,f=a.stepx,j=a.stepy,a=a.requestId,m=new U,v=m,G=s.Uint8Array?new z(null,f*j):new y(null,f*j),Y=G.getData(),H=0,C=0;C<j;++C)for(var Z=b+(i-b)*C/j,D=0;D<f;++D,++H){var $=d+(e-d)*D/f;Y[H]=k.floor(c($,Z,v))%256}c=G;postMessage({requestId:a,bitmap:c.getData(),flop:m.c})};for(var aa=[],W=0,X=1;W<64;W++,X*=2)aa.push(X);function V(a,c){this.a=a;this.b=c}V[p].add=function(a){this.a+=a.a;this.b+=a.b};V[p].sub=function(a){this.a-=a.a;this.b-=a.b};V[p].i=function(a){var c=this.a,d=a.a,b=this.b,a=a.b;this.a=c*d-b*a;this.b=c*a+b*d};V[p].d=function(){var a=this.a,c=this.b;this.a=a*a-c*c;this.b=2*a*c};V[p].f=function(){return this.a*this.a+this.b*this.b};V[p].toString=function(){return this.a+" + i "+this.b}; })()';
var worker_js_url=URL.createObjectURL(new Blob([worker_js],{type:"text/javascript"}));
var g=void 0,j=null,aa=encodeURIComponent,k=window,ba=Error,ca=parseInt,da=parseFloat,ea=clearTimeout,fa=String,ga=setTimeout,m=document,n=Array,o=Math;function p(a,b){return a.width=b}function ha(a,b){return a.innerHTML=b}function ia(a,b){return a.currentTarget=b}function ja(a,b){return a.keyCode=b}function ka(a,b){return a.type=b}function la(a,b){return a.className=b}function ma(a,b){return a.target=b}function r(a,b){return a.height=b}
var na="NEAREST",s="appendChild",t="push",oa="uniform1f",pa="uniform1i",qa="getImageData",ra="center",sa="shift",u="width",ta="createImageData",ua="slice",va="replace",xa="getCenter",ya="data",za="ceil",v="floor",Aa="getElementById",Ba="offsetWidth",Ca="getData",w="value",Da="preventDefault",y="indexOf",Ea="capture",Fa="getObject",Ga="texImage2D",A="createElement",Ha="wheelDeltaX",Ia="keyCode",Ja="setZoom",Ka="sqrt",La="addEventListener",Ma="setAttribute",Na="CLAMP_TO_EDGE",B="TEXTURE_2D",Oa="texParameteri",
Pa="handleEvent",Qa="moveTo",Ra="getContext",C="type",Sa="bind",Ta="insertCell",Ua="getTime",E="bindTexture",Va="Point",Wa="stop",Xa="toString",F="length",Ya="propertyIsEnumerable",H="prototype",Za="selectedIndex",$a="getZoom",ab="ctrlKey",J="split",bb="stopPropagation",cb="location",K="getUniformLocation",db="style",eb="UNSIGNED_BYTE",fb="target",L="maps",M="call",gb="options",hb="random",ib="attachShader",jb="ARRAY_BUFFER",N="RGBA",kb="apply",lb="display",O="height",mb="offsetX",nb="offsetY",ob=
"splice",pb="offsetHeight",qb="unshift",rb="event",sb="zoom",P,Q=this,tb=function(){},ub=function(a){var b=typeof a;if(b=="object")if(a){if(a instanceof n)return"array";else if(a instanceof Object)return b;var c=Object[H][Xa][M](a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a[F]=="number"&&typeof a[ob]!="undefined"&&typeof a[Ya]!="undefined"&&!a[Ya]("splice"))return"array";if(c=="[object Function]"||typeof a[M]!="undefined"&&typeof a[Ya]!="undefined"&&!a[Ya]("call"))return"function"}else return"null";
else if(b=="function"&&typeof a[M]=="undefined")return"object";return b},vb=function(a){return typeof a=="string"},yb=function(a){return a[wb]||(a[wb]=++xb)},wb="closure_uid_"+o[v](o[hb]()*2147483648)[Xa](36),xb=0,zb=function(a){return a[M][kb](a[Sa],arguments)},Bb=function(a,b){var c=b||Q;if(arguments[F]>2){var d=n[H][ua][M](arguments,2);return function(){var b=n[H][ua][M](arguments);n[H][qb][kb](b,d);return a[kb](c,b)}}else return function(){return a[kb](c,arguments)}},R=function(){R=Function[H][Sa]&&
Function[H][Sa][Xa]()[y]("native code")!=-1?zb:Bb;return R[kb](j,arguments)},Cb=function(a){var b=n[H][ua][M](arguments,1);return function(){var c=n[H][ua][M](arguments);c[qb][kb](c,b);return a[kb](this,c)}},S=function(a,b){function c(){}c.prototype=b[H];a.ma=b[H];a.prototype=new c;a[H].constructor=a};Function[H].bind=Function[H][Sa]||function(a){if(arguments[F]>1){var b=n[H][ua][M](arguments,1);b[qb](this,a);return R[kb](j,b)}else return R(this,a)};var Db=function(a){this.stack=ba().stack||"";if(a)this.message=fa(a)};S(Db,ba);Db[H].name="CustomError";var Eb=function(a){for(var b=1;b<arguments[F];b++)var c=fa(arguments[b])[va](/\$/g,"$$$$"),a=a[va](/\%s/,c);return a},Gb=function(a,b){for(var c=0,d=fa(a)[va](/^[\s\xa0]+|[\s\xa0]+$/g,"")[J]("."),e=fa(b)[va](/^[\s\xa0]+|[\s\xa0]+$/g,"")[J]("."),f=o.max(d[F],e[F]),h=0;c==0&&h<f;h++){var i=d[h]||"",l=e[h]||"",q=RegExp("(\\d*)(\\D*)","g"),D=RegExp("(\\d*)(\\D*)","g");do{var z=q.exec(i)||["","",""],x=D.exec(l)||["","",""];if(z[0][F]==0&&x[0][F]==0)break;var c=z[1][F]==0?0:ca(z[1],10),I=x[1][F]==0?0:ca(x[1],
10),c=Fb(c,I)||Fb(z[2][F]==0,x[2][F]==0)||Fb(z[2],x[2])}while(c==0)}return c},Fb=function(a,b){if(a<b)return-1;else if(a>b)return 1;return 0},Hb={},Ib=function(a){return Hb[a]||(Hb[a]=fa(a)[va](/\-([a-z])/g,function(a,c){return c.toUpperCase()}))};var Jb=function(a,b){b[qb](a);Db[M](this,Eb[kb](j,b));b[sa]();this.ie=a};S(Jb,Db);Jb[H].name="AssertionError";var Kb=function(a,b){if(!a){var c=n[H][ua][M](arguments,2),d="Assertion failed";if(b){d+=": "+b;var e=c}throw new Jb(""+d,e||[]);}return a};var Lb=n[H],Mb=Lb[y]?function(a,b,c){Kb(a[F]!=j);return Lb[y][M](a,b,c)}:function(a,b,c){c=c==j?0:c<0?o.max(0,a[F]+c):c;if(vb(a)){if(!vb(b)||b[F]!=1)return-1;return a[y](b,c)}for(;c<a[F];c++)if(c in a&&a[c]===b)return c;return-1},Nb=function(a,b,c){Kb(a[F]!=j);return arguments[F]<=2?Lb[ua][M](a,b):Lb[ua][M](a,b,c)};var Ob=/#(.)(.)(.)/,Qb=function(a){var b=a;if(!Pb.test(b))throw ba("'"+b+"' is not a valid hex color");b[F]==4&&(b=b[va](Ob,"#$1$1$2$2$3$3"));var a=b.toLowerCase(),b=ca(a.substr(1,2),16),c=ca(a.substr(3,2),16),a=ca(a.substr(5,2),16);return[b,c,a]},Pb=/^#(?:[0-9a-f]{3}){1,2}$/i,Rb=function(a){return a[F]==1?"0"+a:a},Sb=function(a,b,c){var d=0,e=0,f=0;if(b==0)f=e=d=c;else{var h=o[v](a/60),i=a/60-h,a=c*(1-b),l=c*(1-b*i),b=c*(1-b*(1-i));switch(h){case 1:d=l;e=c;f=a;break;case 2:d=a;e=c;f=b;break;case 3:d=
a;e=l;f=c;break;case 4:d=b;e=a;f=c;break;case 5:d=c;e=a;f=l;break;case 6:case 0:d=c,e=b,f=a}}return[o[v](d),o[v](e),o[v](f)]};var T=function(a){var b;b=(b=a.className)&&typeof b[J]=="function"?b[J](/\s+/):[];var c=Nb(arguments,1),d;d=b;for(var e=0,f=0;f<c[F];f++)Mb(d,c[f])>=0||(d[t](c[f]),e++);d=e==c[F];la(a,b.join(" "));return d};var Tb=function(a,b,c){for(var d in a)b[M](c,a[d],d,a)},Ub=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Vb=function(a){for(var b,c,d=1;d<arguments[F];d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<Ub[F];e++)b=Ub[e],Object[H].hasOwnProperty[M](c,b)&&(a[b]=c[b])}};var Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc=function(){return Q.navigator?Q.navigator.userAgent:j},ec=function(){return Q.navigator};$b=Zb=Yb=Xb=Wb=!1;var fc;if(fc=dc()){var gc=ec();Wb=fc[y]("Opera")==0;Xb=!Wb&&fc[y]("MSIE")!=-1;Zb=(Yb=!Wb&&fc[y]("WebKit")!=-1)&&fc[y]("Mobile")!=-1;$b=!Wb&&!Yb&&gc.product=="Gecko"}var hc=Wb,ic=Xb,jc=$b,kc=Yb,lc=Zb,mc,nc=ec(),oc=mc=nc&&nc.platform||"";ac=oc[y]("Mac")!=-1;bc=oc[y]("Win")!=-1;cc=!!ec()&&(ec().appVersion||"")[y]("X11")!=-1;var pc=ac,qc=bc,rc=cc,sc;
a:{var tc="",uc;if(hc&&Q.opera)var vc=Q.opera.version,tc=typeof vc=="function"?vc():vc;else if(jc?uc=/rv\:([^\);]+)(\)|;)/:ic?uc=/MSIE\s+([^\);]+)(\)|;)/:kc&&(uc=/WebKit\/(\S+)/),uc)var wc=uc.exec(dc()),tc=wc?wc[1]:"";if(ic){var xc,yc=Q.document;xc=yc?yc.documentMode:g;if(xc>da(tc)){sc=fa(xc);break a}}sc=tc}var zc=sc,Ac={},Bc=function(a){return Ac[a]||(Ac[a]=Gb(zc,a)>=0)};var Cc=new Function("a","return a");var Dc;!ic||Bc("9");var Ec=ic&&!Bc("8");var Fc=function(){};Fc[H].xc=!1;Fc[H].ea=function(){if(!this.xc)this.xc=!0,this.M()};Fc[H].M=function(){Gc(this.he)};var Gc=function(){for(var a=0,b=arguments[F];a<b;++a){var c=arguments[a],d;d=c;var e=ub(d);(d=e=="array"||e=="object"&&typeof d[F]=="number")?Gc[kb](j,c):c&&typeof c.ea=="function"&&c.ea()}};var Hc=function(a,b){ka(this,a);ma(this,b);ia(this,this[fb])};S(Hc,Fc);P=Hc[H];P.M=function(){delete this[C];delete this[fb];delete this.currentTarget};P.da=!1;P.Aa=!0;P.stopPropagation=function(){this.da=!0};P.preventDefault=function(){this.Aa=!1};var Ic=function(a,b){a&&this.ya(a,b)};S(Ic,Hc);P=Ic[H];ma(P,j);P.relatedTarget=j;P.offsetX=0;P.offsetY=0;P.clientX=0;P.clientY=0;P.screenX=0;P.screenY=0;P.button=0;ja(P,0);P.charCode=0;P.ctrlKey=!1;P.altKey=!1;P.shiftKey=!1;P.metaKey=!1;P.Jd=!1;P.fa=j;
P.ya=function(a,b){var c=ka(this,a[C]);Hc[M](this,c);ma(this,a[fb]||a.srcElement);ia(this,b);var d=a.relatedTarget;if(d){if(jc){var e;a:{try{Cc(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=j)}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a[mb]!==g?a[mb]:a.layerX;this.offsetY=a[nb]!==g?a[nb]:a.layerY;this.clientX=a.clientX!==g?a.clientX:a.pageX;this.clientY=a.clientY!==g?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||
0;this.button=a.button;ja(this,a[Ia]||0);this.charCode=a.charCode||(c=="keypress"?a[Ia]:0);this.ctrlKey=a[ab];this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Jd=pc?a.metaKey:a[ab];this.state=a.state;this.fa=a;delete this.Aa;delete this.da};P.stopPropagation=function(){Ic.ma[bb][M](this);this.fa[bb]?this.fa[bb]():this.fa.cancelBubble=!0};
P.preventDefault=function(){Ic.ma[Da][M](this);var a=this.fa;if(a[Da])a[Da]();else if(a.returnValue=!1,Ec)try{(a[ab]||a[Ia]>=112&&a[Ia]<=123)&&ja(a,-1)}catch(b){}};P.Pd=function(){return this.fa};P.M=function(){Ic.ma.M[M](this);this.fa=j;ma(this,j);ia(this,j);this.relatedTarget=j};var Jc=function(a,b){this.qc=b;this.ga=[];this.Td(a)};S(Jc,Fc);P=Jc[H];P.Ab=j;P.zc=j;P.Ca=function(a){this.Ab=a};P.getObject=function(){if(this.ga[F])return this.ga.pop();return this.vc()};P.Ba=function(a){this.ga[F]<this.qc?this.ga[t](a):this.mc(a)};P.Td=function(a){if(a>this.qc)throw ba("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.ga[t](this.vc())};P.vc=function(){return this.Ab?this.Ab():{}};
P.mc=function(a){if(this.zc)this.zc(a);else{var b;b=ub(a);if(b=b=="object"||b=="array"||b=="function")if(ub(a.ea)=="function")a.ea();else for(var c in a)delete a[c]}};P.M=function(){Jc.ma.M[M](this);for(var a=this.ga;a[F];)this.mc(a.pop());delete this.ga};var Kc,Lc,Mc="ScriptEngine"in Q;Lc=(Kc=Mc&&Q.ScriptEngine()=="JScript")?Q.ScriptEngineMajorVersion()+"."+Q.ScriptEngineMinorVersion()+"."+Q.ScriptEngineBuildVersion():"0";var Nc=Kc,Oc=Lc;var Pc=function(){},Qc=0;P=Pc[H];P.key=0;P.la=!1;P.oc=!1;P.ya=function(a,b,c,d,e,f){if(ub(a)=="function")this.nc=!0;else if(a&&a[Pa]&&ub(a[Pa])=="function")this.nc=!1;else throw ba("Invalid listener argument");this.za=a;this.cc=b;this.src=c;ka(this,d);this.capture=!!e;this.sb=f;this.oc=!1;this.key=++Qc;this.la=!1};P.handleEvent=function(a){if(this.nc)return this.za[M](this.sb||this.src,a);return this.za[Pa][M](this.za,a)};var Rc,Uc,Vc,Wc,Xc,Yc,Zc,$c,ad,bd,cd;
(function(){function a(){return{J:0,B:0}}function b(){return[]}function c(){var a=function(b){return h[M](a.src,a.key,b)};return a}function d(){return new Pc}function e(){return new Ic}var f=Nc&&!(Gb(Oc,"5.7")>=0),h;Yc=function(a){h=a};if(f){Rc=function(){return i[Fa]()};Uc=function(a){i.Ba(a)};Vc=function(){return l[Fa]()};Wc=function(a){l.Ba(a)};Xc=function(){return q[Fa]()};Zc=function(){q.Ba(c())};$c=function(){return D[Fa]()};ad=function(a){D.Ba(a)};bd=function(){return z[Fa]()};cd=function(a){z.Ba(a)};
var i=new Jc(0,600);i.Ca(a);var l=new Jc(0,600);l.Ca(b);var q=new Jc(0,600);q.Ca(c);var D=new Jc(0,600);D.Ca(d);var z=new Jc(0,600);z.Ca(e)}else Rc=a,Uc=tb,Vc=b,Wc=tb,Xc=c,Zc=tb,$c=d,ad=tb,bd=e,cd=tb})();var dd={},U={},ed={},fd="on",gd={},V=function(a,b,c,d,e){if(b)if(ub(b)=="array"){for(var f=0;f<b[F];f++)V(a,b[f],c,d,e);return j}else{var d=!!d,h=U;b in h||(h[b]=Rc());h=h[b];d in h||(h[d]=Rc(),h.J++);var h=h[d],i=yb(a),l;h.B++;if(h[i]){l=h[i];for(f=0;f<l[F];f++)if(h=l[f],h.za==c&&h.sb==e){if(h.la)break;return l[f].key}}else l=h[i]=Vc(),h.J++;f=Xc();f.src=a;h=$c();h.ya(c,f,a,b,d,e);c=h.key;f.key=c;l[t](h);dd[c]=h;ed[i]||(ed[i]=Vc());ed[i][t](h);a[La]?(a==Q||!a.ac)&&a[La](b,f,d):a.attachEvent(hd(b),
f);return c}else throw ba("Invalid event type");},id=function(a,b,c,d,e){if(ub(b)=="array"){for(var f=0;f<b[F];f++)id(a,b[f],c,d,e);return j}d=!!d;a:{f=U;if(b in f&&(f=f[b],d in f&&(f=f[d],a=yb(a),f[a]))){a=f[a];break a}a=j}if(!a)return!1;for(f=0;f<a[F];f++)if(a[f].za==c&&a[f][Ea]==d&&a[f].sb==e)return W(a[f].key);return!1},W=function(a){if(!dd[a])return!1;var b=dd[a];if(b.la)return!1;var c=b.src,d=b[C],e=b.cc,f=b[Ea];c.removeEventListener?(c==Q||!c.ac)&&c.removeEventListener(d,e,f):c.detachEvent&&
c.detachEvent(hd(d),e);c=yb(c);e=U[d][f][c];if(ed[c]){var h=ed[c],i=h,l=Mb(i,b);l>=0&&(Kb(i[F]!=j),Lb[ob][M](i,l,1));h[F]==0&&delete ed[c]}b.la=!0;e.kc=!0;jd(d,f,c,e);delete dd[a];return!0},jd=function(a,b,c,d){if(!d.Va&&d.kc){for(var e=0,f=0;e<d[F];e++)if(d[e].la){var h=d[e].cc;h.src=j;Zc(h);ad(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.kc=!1;f==0&&(Wc(d),delete U[a][b][c],U[a][b].J--,U[a][b].J==0&&(Uc(U[a][b]),delete U[a][b],U[a].J--),U[a].J==0&&(Uc(U[a]),delete U[a]))}},kd=function(a,b,c){var d=
0,e=a==j,f=b==j,h=c==j,c=!!c;if(e)Tb(ed,function(a){for(var e=a[F]-1;e>=0;e--){var i=a[e];if((f||b==i[C])&&(h||c==i[Ea]))W(i.key),d++}});else if(a=yb(a),ed[a]){a=ed[a];for(e=a[F]-1;e>=0;e--){var i=a[e];if((f||b==i[C])&&(h||c==i[Ea]))W(i.key),d++}}return d},hd=function(a){if(a in gd)return gd[a];return gd[a]=fd+a},md=function(a,b,c,d){var e=U;if(b in e&&(e=e[b],c in e))return ld(e[c],a,b,c,d);return!0},ld=function(a,b,c,d,e){var f=1,b=yb(b);if(a[b]){a.B--;a=a[b];a.Va?a.Va++:a.Va=1;try{for(var h=a[F],
i=0;i<h;i++){var l=a[i];l&&!l.la&&(f&=nd(l,e)!==!1)}}finally{a.Va--,jd(c,d,b,a)}}return Boolean(f)},nd=function(a,b){var c=a[Pa](b);a.oc&&W(a.key);return c},od=function(a,b){if(!dd[a])return!0;var c=dd[a],d=c[C],e=U;if(!(d in e))return!0;var e=e[d],f,h,i;Dc===g&&(Dc=ic&&!Q[La]);if(i=Dc){if(!(i=b))a:{i="window.event"[J](".");for(var l=Q;f=i[sa]();)if(l[f]!=j)l=l[f];else{i=j;break a}i=l}f=i;i=!0 in e;l=!1 in e;if(i){if(f[Ia]<0||f.returnValue!=g)return!0;a:{var q=f,D=!1;if(q[Ia]==0)try{ja(q,-1);break a}catch(z){D=
!0}if(D||q.returnValue==g)q.returnValue=!0}}q=bd();q.ya(f,this);f=!0;try{if(i){for(var x=Vc(),I=q.currentTarget;I;I=I.parentNode)x[t](I);h=e[!0];h.B=h.J;for(var G=x[F]-1;!q.da&&G>=0&&h.B;G--)ia(q,x[G]),f&=ld(h,x[G],d,!0,q);if(l){h=e[!1];h.B=h.J;for(G=0;!q.da&&G<x[F]&&h.B;G++)ia(q,x[G]),f&=ld(h,x[G],d,!1,q)}}else f=nd(c,q)}finally{if(x)x.length=0,Wc(x);q.ea();cd(q)}return f}d=new Ic(b,this);try{f=nd(c,d)}finally{d.ea()}return f};Yc(od);var pd=function(){};S(pd,Fc);P=pd[H];P.ac=!0;P.rc=j;P.gc=function(){return this.rc};P.addEventListener=function(a,b,c,d){V(this,a,b,c,d)};P.removeEventListener=function(a,b,c,d){id(this,a,b,c,d)};
P.dispatchEvent=function(a){var b=a[C]||a,c=U;if(b in c){if(vb(a))a=new Hc(a,this);else if(a instanceof Hc)ma(a,a[fb]||this);else{var d=a,a=new Hc(b,this);Vb(a,d)}var d=1,e,c=c[b],b=!0 in c,f;if(b){e=[];for(f=this;f;f=f.gc())e[t](f);f=c[!0];f.B=f.J;for(var h=e[F]-1;!a.da&&h>=0&&f.B;h--)ia(a,e[h]),d&=ld(f,e[h],a[C],!0,a)&&a.Aa!=!1}if(f=!1 in c)if(f=c[!1],f.B=f.J,b)for(h=0;!a.da&&h<e[F]&&f.B;h++)ia(a,e[h]),d&=ld(f,e[h],a[C],!1,a)&&a.Aa!=!1;else for(e=this;!a.da&&e&&f.B;e=e.gc())ia(a,e),d&=ld(f,e,a[C],
!1,a)&&a.Aa!=!1;a=Boolean(d)}else a=!0;return a};P.M=function(){pd.ma.M[M](this);kd(this);this.rc=j};var qd=function(a){this.i=a;a=jc?"DOMMouseScroll":"mousewheel";this.fc=V(this.i,a,this)};S(qd,pd);
qd[H].handleEvent=function(a){var b=0,c=0,d=0,a=a.Pd();if(a[C]=="mousewheel"){c=1;if(ic||kc&&(qc||Bc("532.0")))c=40;d=kc&&pc&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;a[Ha]!==g?(b=kc&&pc&&-a[Ha]%c!=0?-a[Ha]:-a[Ha]/c,c=kc&&pc&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,d>100?d=3:d<-100&&(d=-3),a.axis!==g&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;typeof this.tc=="number"&&(b=o.min(o.max(b,-this.tc),this.tc));typeof this.uc=="number"&&(c=o.min(o.max(c,-this.uc),this.uc));
b=new rd(d,a,b,c);try{this.dispatchEvent(b)}finally{b.ea()}};qd[H].M=function(){qd.ma.M[M](this);W(this.fc);delete this.fc};var rd=function(a,b,c,d){b&&this.ya(b,g);ka(this,"mousewheel");this.detail=a;this.ge=c;this.Ud=d};S(rd,Ic);var sd=function(a,b){this.x=a!==g?a:0;this.y=b!==g?b:0};sd[H].toString=function(){return"("+this.x+", "+this.y+")"};var td=function(a,b){p(this,a);r(this,b)};P=td[H];P.toString=function(){return"("+this[u]+" x "+this[O]+")"};P.Xd=function(){return this[u]*this[O]};P.isEmpty=function(){return!this.Xd()};P.ceil=function(){p(this,o[za](this[u]));r(this,o[za](this[O]));return this};P.floor=function(){p(this,o[v](this[u]));r(this,o[v](this[O]));return this};P.round=function(){p(this,o.round(this[u]));r(this,o.round(this[O]));return this};P.scale=function(a){this.width*=a;this.height*=a;return this};!ic||Bc("9");!jc&&!ic||ic&&Bc("9")||jc&&Bc("1.9.1");ic&&Bc("9");var ud=function(a){var b=a.document;if(kc&&!Bc("500")&&!lc){typeof a.innerHeight=="undefined"&&(a=k);var b=a.innerHeight,c=a.document.documentElement.scrollHeight;a==a.top&&c<b&&(b-=15);return new td(a.innerWidth,b)}a=b.compatMode=="CSS1Compat";a=a?b.documentElement:b.body;return new td(a.clientWidth,a.clientHeight)};var wd=function(a,b,c){vb(b)?vd(a,c,b):Tb(b,Cb(vd,a))},vd=function(a,b,c){a[db][Ib(c)]=b},yd=function(a,b,c){var d,e=jc&&(pc||rc)&&Bc("1.9");b instanceof sd?(d=b.x,b=b.y):(d=b,b=c);a[db].left=xd(d,e);a[db].top=xd(b,e)},xd=function(a,b){typeof a=="number"&&(a=(b?o.round(a):a)+"px");return a},zd=function(a,b){a[db].display=b?"":"none"};var Cd=function(a){return Q.Uint8Array?new Ad(j,a):new Bd(j,a)};function Bd(a,b){this.V=a?a:n(b)}Bd[H].getData=function(){return this.V};Bd[H].copy=function(a,b,c){for(var d=this.V,e=0;e<c;++e)d[a+e]=d[b+e]};function Ad(a,b){this.V=a?a:new Uint8Array(b)}Ad[H].getData=function(){return this.V};Ad[H].copy=function(a,b,c){var d=this.V;d.set(d[ua](a,c),b)};function Dd(a,b,c,d,e,f){this.c=a;this.O=e;this.ua=new google[L][Va](0,0);this.N=b;this.ee=j;this.k=c;this.Mb=f;this.q=d}P=Dd[H];
P.tileSize=new google[L].Size(256,256);
P.maxZoom=29;
P.Nb=function(a){this.O=a-a%28;this.ua=this.yb()};P.kd=function(){this.O+=28;this.ua=this.yb()};P.ld=function(){this.O-=28;this.ua=this.yb()};P.T=function(a){this.k=a};
P.yb=function(){if(this.O<8)return new google[L][Va](0,0);else{var a=this.c.getProjection().fromLatLngToPoint(this.c[xa]()),b=Ed(this.O-8);return new google[L][Va](o[v](a.x*b),o[v](a.y*b))}};P.getTile=function(a,b,c){var d=new google[L][Va](a.x+this.ua.x*Ed(b),a.y+this.ua.y*Ed(b)),e=c[A]("canvas");p(e,"256");r(e,"256");ga(R(function(){this.hc(e,b+this.O,d,16)},this),0);return e};P.releaseTile=function(){};
P.hc=function(a,b,c,d){if(!this[Wa]&&(this.q&&this.q[Ja](b),this.c[$a]()+this.O==b)){var e=this.N.get(c.x,c.y,b),f;if(e&&e.mb<=d)f=e.dd,d=e.mb,this.ob(a,b,c,f,d);else{var h=2/Ed(b),e=-1+c.x*h;f=-1+c.y*h;var i=-1+(c.x+1)*h,h=-1+(c.y+1)*h,l=256/d;d<16?this.q.Fb(this.Mb,e,f,i,h,l,l,R(function(e){this[Wa]||(this.ob(a,b,c,e,d),this.N.put(c.x,c.y,b,d,e))},this)):(f=this.q.Pb(this.Mb,e,f,i,h,l,l),Fd(f)&&(f=Gd(f[Ca]()[0],1),d=1),this.ob(a,b,c,f,d),this.N.put(c.x,c.y,b,d,f))}}};
P.ob=function(a,b,c,d,e){var f=a[Ra]("2d");this.Md(f,d,this.k,e,e==1);e>1&&(e=e>2?2:1,ga(R(function(){this.hc(a,b,c,e)},this),2E3))};P.Md=function(a,b,c,d,e){for(var f=a[ta]?a[ta](256,256):a[qa](0,0,256,256),h=0,i=f[ya],l=0,q=-1,b=b[Ca](),D=1024,z=0;z<256;z+=d){for(var x=0;x<256;x+=d,++l)for(var h=c[b[l]],I=h[0],G=h[1],wa=h[2],h=0;h<d;++h)i[++q]=I,i[++q]=G,i[++q]=wa,i[++q]=255;h=0;for(x=1024*(d-1);h<x;++h)i[++q]=i[q-D]}e&&this.Wd(i);a.putImageData(f,0,0)};
P.Wd=function(a){for(var b=[0,4,1024,1028],c=0,d=0;d<256;++d)for(var e=0;e<256;++e,c+=4){var f=0,h=0,i=0,l=0;e==255&&(l-=4);d==255&&(l-=1024);for(var q=0;q<4;++q)f+=a[c+l+b[q]],h+=a[c+l+b[q]+1],i+=a[c+l+b[q]+2];a[c]=f/4;a[c+1]=h/4;a[c+2]=i/4}};function Hd(a,b,c){this.w=[];this.nb=[];var d=b*0.85;b*=0.1;this.m=m[A]("canvas");la(this.m,"saturation-panel");p(this.m,""+d);r(this.m,""+c);var e=this.m[Ra]("2d"),f=e[ta]?e[ta](d,c):e[qa](0,0,d,c);this.Ra=f[ya];for(var h=0,i=255,l=0;l<c;l++)for(var q=1-l/c,D=0;D<d;D++){var z=D/d*360,z=Sb(z,q,i);this.Ra[h++]=z[0];this.Ra[h++]=z[1];this.Ra[h++]=z[2];this.Ra[h++]=255}e.putImageData(f,0,0);this.j=m[A]("canvas");la(this.j,"lightness-panel");p(this.j,""+b);r(this.j,""+c);this.K=m[A]("img");this.K.src=
"imgs/cross-pointer.png";la(this.K,"saturation-panel");wd(this.K,"position","absolute");wd(this.K,"left",0);wd(this.K,"top",0);a[s](this.K);this.ca=m[A]("img");this.ca.src="imgs/arrow.gif";wd(this.ca,"position","absolute");wd(this.ca,"left",0);wd(this.ca,"top",0);a[s](this.ca);V(a,"mousedown",R(this.ed,this),!0);V(this.m,"mousedown",R(this.Wb,this),!0);V(this.K,"mousedown",R(this.Wb,this),!0);V(this.j,"mousedown",R(this.fd,this),!0);c=m[A]("table");b=c.insertRow(-1);d=b[Ta](-1);b=b[Ta](-1);d[s](this.m);b[s](this.j);
a[s](c)}P=Hd[H];P.ed=function(a){a[Da]()};P.pa=function(a){this.w[t](a)};P.$c=function(a){this.nb[t](a)};P.U=function(){for(var a=0;a<this.w[F];a++)this.w[a]()};P.yc=function(){for(var a=0;a<this.nb[F];a++)this.nb[a]()};P.Wb=function(a){this.sc(a);this.Gd=V(m,"mousemove",R(this.sc,this));this.Hd=V(m,"mouseup",R(this.Od,this));this.U()};P.Od=function(){W(this.Gd);W(this.Hd);this.yc()};
P.sc=function(a){a[Da]();a[bb]();var b=this.Yb(a),c=X(this.m),d=this.Ua(),a=this.ka((b[0]-c[0])/this.m[Ba],0,1),b=this.ka(1-(b[1]-c[1])/this.m[pb],0,1),d=d[2];this.rb(a,b,d);this.U()};P.ka=function(a,b,c){return o.min(o.max(a,b),c)};P.fd=function(a){this.Ac(a);this.Rd=V(m,"mousemove",R(this.Ac,this));this.Sd=V(m,"mouseup",R(this.Vd,this))};P.Vd=function(){W(this.Rd);W(this.Sd);this.yc()};
P.Ac=function(a){a[Da]();a[bb]();var b=this.Yb(a),c=X(this.j),d=this.Ua(),a=d[0],d=d[1],b=this.ka(1-(b[1]-c[1])/this.j[pb],0,1);this.rb(a,d,b);this.U()};P.Ua=function(){var a=X(this.K),b=X(this.m),c=X(this.ca),d=X(this.j),e=this.ka((a[0]-b[0]+6)/this.m[u],0,1),a=this.ka(1-(a[1]-b[1]+6)/this.m[O],0,1),c=this.ka(1-(c[1]-d[1]+5)/this.j[O],0,1);return[e,a,c]};
P.rb=function(a,b,c){var d=X(this.m),e=X(this.K.parentNode);yd(this.K,d[0]-e[0]+a*this.m[u]-6,d[1]-e[1]+(1-b)*this.m[O]-6);a=X(this.j);yd(this.ca,a[0]-e[0]-9,a[1]-e[1]+(1-c)*this.j[O]-5);this.jd()};P.tb=function(){var a=this.Ua();return Sb(360*a[0],a[1],255*a[2])};P.Ta=function(a,b,c){var d,e=o.max(o.max(a,b),c),f=o.min(o.min(a,b),c);d=e;if(f==e)f=a=0;else{var h=e-f,f=h/e,a=a==e?(b-c)/h:b==e?2+(c-a)/h:4+(a-b)/h;a*=60;a<0&&(a+=360);a>360&&(a-=360)}d=[a,f,d];this.rb(d[0]/360,d[1],d[2]/255)};
function X(a){var b=0,c=0;do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return[b,c]}P.Yb=function(a){var b=X(a[fb]);b[0]+=a[mb];b[1]+=a[nb];return b};P.jd=function(){for(var a=this.Ua(),b=this.j[Ra]("2d"),c=b[ta]?b[ta](this.j[u],this.j[O]):b[qa](0,0,this.j[u],this.j[O]),d=c[ya],e=0,f=a[0]*360,a=a[1],h=0;h<this.j[O];h++)for(var i=255-h/this.j[O]*255,i=Sb(f,a,i),l=0;l<this.j[u];l++)d[e++]=i[0],d[e++]=i[1],d[e++]=i[2],d[e++]=255;b.putImageData(c,0,0)};
function Id(a){this.w=[];this.h=m[A]("input");ka(this.h,"text");this.t=m[A]("div");la(this.t,"color-picker");wd(this.t,"position","absolute");zd(this.t,!1);this.Qa=new Hd(this.t,200,100);V(this.h,"focus",R(this.ad,this));V(this.h,"blur",R(this.Sb,this));V(this.h,"keyup",R(this.cd,this));V(this.h,"click",R(this.Tb,this));this.Qa.pa(R(this.bd,this));this.Qa.$c(R(this.U,this));a[s](this.h);a[s](this.t)}P=Id[H];
P.Ta=function(a,b,c){var d=this.h,a=Number(a),b=Number(b),c=Number(c);if(isNaN(a)||a<0||a>255||isNaN(b)||b<0||b>255||isNaN(c)||c<0||c>255)throw ba('"('+a+","+b+","+c+'") is not a valid RGB color');a=Rb(a[Xa](16));b=Rb(b[Xa](16));c=Rb(c[Xa](16));c="#"+a+b+c;d.value=c;wd(this.h,"background-color",this.h[w])};P.Sb=function(){if(this.t[db][lb]!="none")W(this.Ka),this.Ka=j,zd(this.t,!1)};
P.Tb=function(){if(this.t[db][lb]=="none"){this.Ka=V(m,"mousedown",R(this.Sb,this),!1);zd(this.t,!0);var a=X(this.h);a[0]+this.t[Ba]>m[u]?yd(this.t,this.h.offsetLeft+this.h[Ba]-this.t[Ba]-20,this.h.offsetTop+this.h[pb]):yd(this.t,this.h.offsetLeft,this.h.offsetTop+this.h[pb])}};P.ad=function(){this.Tb();this.wc()};P.bd=function(){var a=this.Qa.tb();this.Ta(a[0],a[1],a[2])};P.pa=function(a){this.w[t](a)};P.U=function(){for(var a=0;a<this.w[F];a++)this.w[a]()};
P.tb=function(){try{return Qb(this.h[w])}catch(a){return[0,0,0]}};P.cd=function(){this.wc();this.U()};P.wc=function(){var a=this.h[w]||"#ffffff",b;try{b=Qb(a)}catch(c){return}this.Qa.Ta(b[0],b[1],b[2]);wd(this.h,"background-color",this.h[w])};P.isEmpty=function(){return!this.h[w]};var Jd=o.log(2),Kd=o.log(3),Ld=o.log(4),Md=o.log(5),Nd=o.log(16),Od=o.log(2*o.log(1E4));function Y(a,b,c,d,e){this.Xc=a;this.Jc=b;this.Rb=c;this.nd=d;this.md=e}
var Xd={mandelbrot:new Y("julia(x, y, 0.0, 0.0)",10,Pd,15,15),mandel3:new Y("mandelbrot3(x, y)",16,Qd,15,15),mandel321:new Y("mandelbrot321(x, y)",20,Rd,15,15),mandel4:new Y("mandelbrot4(x, y)",15,Sd,15,15),mandel5:new Y("mandelbrot5(x, y)",18,Td,15,15),mandel16:new Y("mandelbrot16(x, y)",25,Ud,15,15),julia0:new Y("julia(-0.8, 0.156, x, y)",10,Cb(Vd,-0.8,0.156),15,15),julia1:new Y("julia(-0.618, 0.0, x, y)",10,Cb(Vd,-0.618,0),15,15),julia2:new Y("julia(-0.4, 0.6, x, y)",10,Cb(Vd,-0.4,0.6),15,15),
julia3:new Y("julia(0.285, -0.01, x, y)",10,Cb(Vd,0.285,-0.01),15,15),newton:new Y("newton(x, y)",8,Wd,15,0)};function Fd(a){for(var a=a[Ca](),b=a[0],c=1,d=a[F];c<d;++c)if(a[c]!=b)return!1;return!0}function Gd(a,b){for(var c=256/b*(256/b),d=Cd(c),e=d[Ca](),f=0;f<c;++f)e[f]=a;return d}function Yd(){}P=Yd[H];P.H=0;P.fb=0;P.start=function(){this.pc=(new Date)[Ua]();this.zb=j;this.fb=this.H=0};P.stop=function(){this.zb=(new Date)[Ua]()};
P.getTime=function(){return this.zb?this.zb-this.pc:(new Date)[Ua]()-this.pc};function Zd(a,b,c,d,e,f,h,i){for(var l=Cd(f*h),q=l[Ca](),D=0,z=0;z<h;++z)for(var x=c+(e-c)*z/h,I=0;I<f;++I,++D){var G=b+(d-b)*I/f;q[D]=o[v](a(G,x,i))%256}return l}function Vd(a,b,c,d,e){for(var f=d,h=c*c,i=f*f,d=0;d<1E3;++d)if(f=b+2*c*f,c=a+h-i,h=c*c,i=f*f,h+i>=1E4)return a=o[Ka](h+i),e&&(e.H+=d*8),10*(d+2+(Od-o.log(o.log(a)))/Jd);return 0}function Pd(a,b,c){return Vd(a,b,0,0,c)}
function Qd(a,b,c){for(var d=0,e=0,f=0;f<1E3;++f){var h=d*d,i=h*d,l=e*e,q=l*e,d=a+i-3*d*l,e=b+3*h*e-q,h=d*d+e*e;if(h>=1E4)return c&&(c.H+=f*15),a=o[Ka](h),10*(f+2+(Od-o.log(o.log(a)))/Kd)}return 0}function Sd(a,b,c){for(var d=new Z(0,0),b=new Z(a,b),a=0;a<1E3;++a){d.Y();d.Y();d.add(b);var e=d.qb();if(e>=1E4)return c&&(c.H+=a*15),c=o[Ka](e),10*(a+2+(Od-o.log(o.log(c)))/Ld)}return 0}
function Td(a,b,c){for(var d=new Z(0,0),b=new Z(a,b),a=0;a<1E3;++a){var e=new Z(d.f,d.g);d.Y();d.Y();d.gd(e);d.add(b);e=d.qb();if(e>=1E4)return c&&(c.H+=a*21),c=o[Ka](e),10*(a+2+(Od-o.log(o.log(c)))/Md)}return 0}function Ud(a,b,c){for(var d=new Z(0,0),b=new Z(a,b),a=0;a<1E3;++a){d.Y();d.Y();d.Y();d.Y();d.add(b);var e=d.qb();if(e>=1E4)return c&&(c.H+=a*25),c=o[Ka](e),10*(a+2+(Od-o.log(o.log(c)))/Nd)}return 0}
function Rd(a,b,c){for(var d=0,e=0,f=0;f<1E3;++f){var h=d*d,i=h*d,l=e*e,q=l*e,i=a+i-3*d*l+h-l+d,e=b+3*h*e-q+2*d*e+e,d=i,h=d*d+e*e;if(h>=1E4)return c&&(c.H+=f*22),a=o[Ka](h),10*(f+2+(Od-o.log(o.log(a)))/Kd)}return 0}function Wd(a,b,c){for(var d=a*a,e=b*b,f=0;f<1E3;++f){var h=(d+e)*(d+e),e=(2*a+(d-e)/h)/3,b=2*(b-a*b/h)/3,a=e,d=a*a,e=b*b,i=d*a,h=e*b,i=i-3*a*e-1,h=3*d*b-h;if(i*i+h*h<1.0E-4)return c&&(c.H+=f*27),c=100*o.log(2+o.log(2+f)),e<0.01?0+c%85:b>0.5?85+c%85:170+c%85}return 0};function $d(a){var b=this.i=m[A]("A");T(b,"aboutLink");a||T(b,"nowebgl");ha(b,"About Julia Map");b.href="#";b[Ma]("onclick","return false");V(b,"click",R(this.Id,this));a=m[Aa]("closeAboutDialog");V(a,"click",R(this.Fd,this))}$d[H].Id=function(){var a=m[Aa]("aboutBox");zd(a,!0);var b=m.body.clientWidth,c=m.body.clientHeight;yd(a,(b-a[Ba])/2,(c-a[pb])/2)};$d[H].Fd=function(){var a=m[Aa]("aboutBox");zd(a,!1)};$d[H].s=function(){return this.i};
function ae(){var a=m[Aa]("buzzButton");V(a,"click",R(this.Kd,this));a=m[Aa]("twitterButton");V(a,"click",R(this.Ld,this));this.i=m[Aa]("shareControls")}ae[H].show=function(){this.i[db].display="block"};ae[H].Kd=function(){var a="http://www.google.com/buzz/post?url="+aa(k[cb].href);k.open(a,"jmBuzz","width=700,height=400")};ae[H].Ld=function(){var a="http://twitter.com/share?text=%23juliamap&url="+aa(k[cb].href);k.open(a,"jmTwitter","width=700,height=400")};ae[H].s=function(){return this.i};
function be(){var a=this.i=m[A]("div");T(a,"legend");this.lc=m[A]("span");this.ic=m[A]("span");this.jc=m[A]("span");a[s](this.wb("Zoom level: ",this.lc));a[s](this.wb("Gpu flops: ",this.jc));a[s](this.wb("Cpu flops: ",this.ic,"Floating Point Operations per Second"))}P=be[H];P.s=function(){return this.i};P.wb=function(a,b,c){var d=m[A]("div");if(c)d.title=c;c=m[A]("span");ha(c,a);d[s](c);d[s](b);return d};P.setZoom=function(a){ha(this.lc,o[v](a*10)/10)};
P.Bc=function(a){return a<1E6?""+a:a<1E9?o[v](a/1E5)/10+" millions":o[v](a/1E8)/10+" billions"};P.Ed=function(a){ha(this.jc,this.Bc(a)+"/s")};P.Dd=function(a){ha(this.ic,this.Bc(a)+"/s")};
function ce(a){var b=this.i=m[A]("div");this.Ga=a;T(this.i,"paletteControl");this.e=m[A]("select");this.I=[{id:"GOOGLE",name:"Google Palette",z:de},{id:"BW",name:"X-Ray",z:ee},{id:"RED",name:"Red",z:fe},{id:"FIRE",name:"Fire",z:ge},{id:"ICE",name:"Ice",z:he},{id:"EARTH",name:"Earth",z:ie}];this.ib();this.Gb=0;google[L][rb].addDomListener(this.e,"change",R(this.ra,this));this.aa=m[A]("div");T(this.aa,"edit-button");this.aa[Ma]("title","Edit colors");this.A=m[A]("div");wd(this.A,"position","absolute");
zd(this.A,!1);this.gb=new je(this.A,de);V(this.A,"mousedown",function(a){a[bb]()});this.gb.pa(R(this.Oc,this));var a=m[A]("table"),c=a.insertRow(-1),d=c[Ta](-1),c=c[Ta](-1);c[s](this.aa);b[s](this.A);d[s](this.e);b[s](a);V(this.aa,"click",R(this.Pc,this))}P=ce[H];P.s=function(){return this.i};P.Db=function(a,b){var c="RANDOM"+this.Gb++;this.I[ob](this.I[F],0,{id:c,name:a,z:b});this.ib();return c};
P.ra=function(){var a=this.e[gb][this.e[Za]][w];a=="ADD_RANDOM"&&(a=this.Db("Random "+this.Gb,ke()),this.ib(),this.Eb(a));this.Ga.T(this.jb(a).z)};P.Qb=function(){this.A[db][lb]!="none"&&(zd(this.A,!1),W(this.Ka))};P.Qd=function(){this.Ka=V(m,"mousedown",R(this.Qb,this),!1);zd(this.A,!0);var a=this.e[gb][this.e[Za]][w],a=this.jb(a);this.gb.Hb(a.z);var a=this.i,a=X(a),b=X(this.aa),c=b[0]+this.aa[Ba]-this.A[Ba],b=b[1]+this.aa[pb];c-=a[0];b-=a[1];yd(this.A,c,b)};
P.Pc=function(a){a[Da]();this.A[db][lb]!="none"?this.Qb():this.Qd()};P.Oc=function(){var a=this.e[gb][this.e[Za]][w],a=this.jb(a);a.z=this.gb.hd();this.Ga.T(a.z)};P.jb=function(a){for(var b=0;b<this.I[F];b++)if(this.I[b].id==a)return this.I[b];return j};P.Sc=function(a){for(var b=0;b<this.I[F];b++)if(this.I[b].z.toUrlValue()==a)return this.I[b].id;return j};
P.ib=function(){for(var a=this.e[gb][F],b=0;b<a;b++)this.e.remove(0);for(b=0;b<this.I[F];b++)a=this.I[b],le(this.e,new Option(a.name,a.id));le(this.e,new Option("Add Random...","ADD_RANDOM"))};function le(a,b){try{a.add(b,j)}catch(c){a.add(b)}}P.Eb=function(a){for(var b=0;b<this.e[gb][F];b++)if(this.e[gb][b][w]==a){this.e.selectedIndex=b;break}};
function me(a){this.i=m[A]("div");this.Ga=a;T(this.i,"functionControl");this.e=m[A]("select");for(var a=[{id:"mandelbrot",name:"Mandelbrot"},{id:"mandel3",name:"Mandelbrot (z^3 + c)"},{id:"mandel321",name:"Mandelbrot (z^3 + z^2 + z + c)"},{id:"mandel4",name:"Mandelbrot (z^4 + c)"},{id:"mandel5",name:"Mandelbrot (z^5 + c)"},{id:"mandel16",name:"Mandelbrot (z^16 + c)"},{id:"julia0",name:"Julia (-0.8+0.156i)"},{id:"julia1",name:"Julia (-0.618)"},{id:"julia2",name:"Julia (-0.4+0.6i)"},{id:"julia3",name:"Julia (0.285-0.01i)"},
{id:"newton",name:"Newton (x^3 - 1)"}],b=0;b<a[F];b++){var c=a[b];le(this.e,new Option(c.name,c.id))}this.i[s](this.e);google[L][rb].addDomListener(this.e,"change",R(this.ra,this))}me[H].s=function(){return this.i};me[H].ra=function(){var a=this.e[gb][this.e[Za]][w];this.Ga.l.ub(a)};me[H].Vc=function(a){for(var b=this.e[gb],c=0;c<b[F];++c)if(b[c][w]==a){this.e.selectedIndex=c;break}};
function ne(a){var b=this.i=m[A]("div");T(b,"panControl");var c=m[A]("img");c[Ma]("src","imgs/pancontrol.png");var d=m[A]("div");T(d,"leftButton");var e=m[A]("div");T(e,"rightButton");var f=m[A]("div");T(f,"upButton");var h=m[A]("div");T(h,"downButton");b[s](c);b[s](d);b[s](e);b[s](f);b[s](h);V(d,"click",R(a.Wa,a,-1,0));V(e,"click",R(a.Wa,a,1,0));V(f,"click",R(a.Wa,a,0,-1));V(h,"click",R(a.Wa,a,0,1))}ne[H].s=function(){return this.i};
function oe(a){var b=this.i=m[A]("div");T(b,"zoomControl");var c=m[A]("img");c[Ma]("src","imgs/zoomcontrol.png");var d=m[A]("div");T(d,"downButton");var e=m[A]("div");T(e,"upButton");b[s](c);b[s](d);b[s](e);V(e,"click",R(a[sb],a,-1));V(d,"click",R(a[sb],a,1))}oe[H].s=function(){return this.i};
function pe(a){this.ce=a;this.be=0;var b=qe(k[cb].hash.substring(1)),c=m[Aa]("controls");this.Ja=new be;c[s](this.Ja.s());var d=new ce(this);c[s](d.s());var e=new me(this);c[s](e.s());var f=this.Tc(),h=new $d(f);c[s](h.s());h=new ae;c[s](h.s());h.show();f?(f=new ne(this),c[s](f.s()),f=new oe(this),c[s](f.s()),c=ud(k),this.l=this.Qc(a,c,b)):this.l=this.Rc(a,b);this.ae=V(this.l,"bounds_changed",R(this.Za,this));V(this.l,"rendering_done",R(this.Uc,this));this.de=V(k,"resize",R(function(){var a=ud(k);
this.l.kb(a[u],a[O])},this));this.sa=b.Ha;this.k=this.sa.La();(a=d.Sc(this.sa.toUrlValue()))||(a=d.Db("Custom",this.sa));d.Eb(a);e.Vc(b.ha);this.l[Qa](b[ra],b[sb])}P=pe[H];P.Tc=function(){var a=m[A]("canvas"),a=a[Ra]("experimental-webgl");return!!a};P.Rc=function(a,b){return new re(a,b[ra],b[sb],b.ha,b.Ha.La())};P.Qc=function(a,b,c){var d=m[A]("canvas");p(d,b[u]);r(d,b[O]);a[s](d);return new se(d,c.Ha.La(),c.ha)};P.Uc=function(a){var b=1E3*a.fb/a[Ua](),a=1E3*a.H/a[Ua]();this.Ja.Ed(b);this.Ja.Dd(a)};
P.Za=function(){this.Ja[Ja](this.l[$a]());this.dc()};P.dc=function(){k[cb].hash=(new te(this.l[xa](),this.l[$a](),this.sa,this.l.xb())).Cd()};P.T=function(a){this.sa=a;this.l.T(a.La());this.dc()};P.Wa=function(a,b){var c=this.l[xa](),d=this.l[$a](),e=o.pow(2,d),f=a/e,e=b/e,c=new Z(c.f+f,c.g-e);this.l[Qa](c,d)};P.zoom=function(a){var b=this.l[xa](),c=this.l[$a]();this.l[Qa](b,o.max(0,c+a))};var ue=pe,ve="JuliaApp"[J]("."),we=Q;!(ve[0]in we)&&we.execScript&&we.execScript("var "+ve[0]);
for(var xe;ve[F]&&(xe=ve[sa]());)!ve[F]&&ue!==g?we[xe]=ue:we=we[xe]?we[xe]:we[xe]={};function te(a,b,c,d){this.center=a;this.zoom=b;this.Ha=c;this.ha=d}
var qe=function(a){for(var b=new Z(0,0),c=j,d=0,e="mandelbrot",f=de,a=a[va](/&/g,"$"),a=a[J]("$"),h=0;h<a[F];h++){var i=a[h][J]("=");if(i[F]==2)switch(i[0]){case "ll":c=i[1][J](",");c=new google[L].LatLng(da(c[0]),da(c[1]));break;case "c":b=i[1][J](",");b=new Z(da(b[0]),da(b[1]));break;case "z":d=da(i[1]);isNaN(d)&&(d=0);break;case "p":for(var f=i[1][J](","),i=new $,l=0;l<f[F];l++){var q=ca(f[l],16),D=(q&255)/255,z=(q>>8&255)/255,q=(q>>16&255)/255;i.a(q,z,D)}f=i;break;case "f":i[1]in Xd&&(e=i[1])}}c&&
(b=ye(c),c=(b.f+1)*1.5-2,b=(b.g+1)*1.5-1.5,b=new Z(c,b),d-=0.666);return new te(b,d,f,e)};te[H].Cd=function(){return"c="+this[ra].f+","+this[ra].g+"$z="+o[v](this[sb]*100)/100+"$p="+this.Ha.toUrlValue()+"$f="+this.ha};function ze(){}P=ze[H];P.moveTo=function(){};P.kb=function(){};P.getZoom=function(){};P.getCenter=function(){};P.T=function(){};P.ub=function(){};P.xb=function(){};function se(a,b,c){this.d=a;this.n=c;this.k=b;this.q=new Ae(5);this.P=new Z(0,0);this.p=0;V(this.q,"rendering_done",R(this.Ib,this));V(this.q,"tile_rendering_done",R(this.Ib,this));this.u=this.d[Ra]("experimental-webgl",{antialias:!1});this.hb();this.$d=V(this.d,"mousedown",R(this.Mc,this));this.Nc=new qd(this.d);this.Nc[La]("mousewheel",this.Lc,!1,this);this.Zd=V(this.d,"dblclick",this.Kc,!0,this)}S(se,pd);P=se[H];P.hb=function(){this.yd();this.zd();this.xd();this.Xb(this.k);this.Ia=0};
P.Ob=function(){this.q.reset();this.F&&ea(this.F);var a=this.u;a.deleteBuffer(this.D);a.deleteTexture(this.Da);a.deleteFramebuffer(this.v);a.deleteTexture(this.o);a.deleteTexture(this.r);a.deleteProgram(this.$a);a.deleteProgram(this.$)};
P.Na=function(a,b){for(var c=this.u,d=m[Aa](a),e=(b||"")+"\n",f=d.firstChild;f;)f.nodeType==3&&(e+=f.textContent),f=f.nextSibling;if(d[C]=="x-shader/x-fragment")d=c.createShader(c.FRAGMENT_SHADER);else if(d[C]=="x-shader/x-vertex")d=c.createShader(c.VERTEX_SHADER);else return j;c.shaderSource(d,e);c.compileShader(d);c.getShaderParameter(d,c.COMPILE_STATUS)==0&&alert(c.getShaderInfoLog(d));return d};
P.zd=function(){var a=this.u,b=this.$=a.createProgram();a[ib](b,this.Na("shader-vertex"));a[ib](b,this.Na("shader-painter"));a.linkProgram(b);var c=a.getProgramParameter(b,a.LINK_STATUS);c||alert("Could not initialise shaders");b.oa=a.getAttribLocation(b,"aVertexPosition");a.enableVertexAttribArray(b.oa);b.b={};b.b.Fc=a[K](b,"lowResImage");b.b.Ec=a[K](b,"highResImage");b.b.Gc=a[K](b,"useHighResImage");p(b.b,a[K](b,"width"));r(b.b,a[K](b,"height"));b.b.ab=a[K](b,"x0");b.b.cb=a[K](b,"y0");b.b.bb=a[K](b,
"x1");b.b.eb=a[K](b,"y1")};
P.yd=function(){var a=this.u,b=this.$a=a.createProgram(),c="#define COMPUTE(x, y) "+Xd[this.n].Xc;a[ib](b,this.Na("shader-vertex"));a[ib](b,this.Na("shader-mandelbrot",c));a.linkProgram(b);(c=a.getProgramParameter(b,a.LINK_STATUS))||alert("Could not initialise shaders");b.oa=a.getAttribLocation(b,"aVertexPosition");a.enableVertexAttribArray(b.oa);b.b={};b.b.origin=a[K](b,"origin");b.b.scale=a[K](b,"scale");b.b.Ic=a[K](b,"palette");p(b.b,a[K](b,"width"));r(b.b,a[K](b,"height"));b.b.Hc=a[K](b,"antiAliasSize")};
P.xd=function(){var a=this.u;a.enable(a[B]);this.D=a.createBuffer();a.bindBuffer(a[jb],this.D);var b=[-1,-1,0,-1,1,0,1,1,0,1,-1,0];a.bufferData(a[jb],new Float32Array(b),a.STATIC_DRAW);this.D.Bb=3;this.D.Cb=4;this.Da=a.createTexture();a[E](a[B],this.Da);a[Ga](a[B],0,a[N],256,1,0,a[N],a[eb],j);a[Oa](a[B],a.TEXTURE_MAG_FILTER,a[na]);a[Oa](a[B],a.TEXTURE_MIN_FILTER,a[na]);a[E](a[B],j);this.v=a.createFramebuffer();p(this.v,this.d[u]);r(this.v,this.d[O]);this.Ya=new Uint8Array(this.v[u]*this.v[O]*4);this.R=
o[za](this.d[u]/256)*256;this.Q=o[za](this.d[O]/256)*256;this.S=new Uint8Array(this.R*this.Q*4);this.r=a.createTexture();p(this.r,this.R);r(this.r,this.Q);a[E](a[B],this.r);a[Oa](a[B],a.TEXTURE_MAG_FILTER,a[na]);a[Oa](a[B],a.TEXTURE_MIN_FILTER,a[na]);a[Oa](a[B],a.TEXTURE_WRAP_S,a[Na]);a[Oa](a[B],a.TEXTURE_WRAP_T,a[Na]);a[E](a[B],this.r);a[Ga](a[B],0,a[N],this.r[u],this.r[O],0,a[N],a[eb],j);this.o=a.createTexture();p(this.o,this.R/8);r(this.o,this.Q/8);a[E](a[B],this.o);a[Oa](a[B],a.TEXTURE_MAG_FILTER,
a[na]);a[Oa](a[B],a.TEXTURE_MIN_FILTER,a[na]);a[Oa](a[B],a.TEXTURE_WRAP_S,a[Na]);a[Oa](a[B],a.TEXTURE_WRAP_T,a[Na]);a[E](a[B],this.o);a[Ga](a[B],0,a[N],this.o[u],this.o[O],0,a[N],a[eb],j);a[E](a[B],j)};P.Lc=function(a){var b=o.min(o.max(a.Ud,-4),4)*0.04;this.Dc(new Z(a[mb],a[nb]),b)};P.Kc=function(a){a[Da]();a[bb]();var b=a[ab]?0.5:-0.5;this.Dc(new Z(a[mb],a[nb]),b)};
P.Mc=function(a){if(a.button==0)this.Kb=a[mb],this.Lb=a[nb],this.Jb=!0,this.od=V(this.d,"mousemove",R(this.rd,this)),this.pd=V(this.d,"mouseup",R(this.qd,this))};P.qd=function(){this.Jb=!1;this.pd=this.od=j};P.rd=function(a){if(this.Jb){var b=0.0078125/o.pow(2,this.p),c=-b*(a[mb]-this.Kb);b*=a[nb]-this.Lb;this.Kb=a[mb];this.Lb=a[nb];a=new Z(this.P.f+c,this.P.g+b);this[Qa](a,this.p)}};
P.Dc=function(a,b){if(!(this.p==0&&b>=0)){var c=this.P.f,d=this.P.g,e=this.p,f=0.0078125/o.pow(2,e),h=c+f*(a.f-this.d[u]/2),f=d-f*(a.g-this.d[O]/2),i=1+b,e=o.max(0,e-o.log(i)/o.log(2)),i=o.pow(2,this.p-e),c=h+i*(c-h),d=f+i*(d-f);this[Qa](new Z(c,d),e)}};P.moveTo=function(a,b){this.P=a;this.p=b;var c=0.0078125/o.pow(2,b),d=a.f-c*this.d[u]/2,e=a.g-c*this.d[O]/2,f=a.f+c*this.d[u]/2,c=a.g+c*this.d[O]/2;this.Yc(d,e,f,c);md(this,"bounds_changed",!1,j)};
P.ta=function(a,b,c,d,e,f,h,i){this.C=a;this.Ea=b;this.ja=c;this.Fa=d;a=(e-this.C)/(this.ja-this.C);f=(f-this.Ea)/(this.Fa-this.Ea);h=1-(this.ja-h)/(this.ja-this.C);i=1-(this.Fa-i)/(this.Fa-this.Ea);b=this.u;b.useProgram(this.$);b[oa](this.$.b.ab,a);b[oa](this.$.b.cb,f);b[oa](this.$.b.bb,h);b[oa](this.$.b.eb,i)};P.Pa=function(a,b,c,d){var e=Xd[this.n];this.p<e.nd?this.ec(a,b,c,d,0):this.vd(a,b,c,d)};
P.vd=function(a,b,c,d){this.Xa();a=Zd(Xd[this.n].Rb,a,b,c,d,this.o[u],this.o[O]);for(b=0;b<a.V[F];++b)c=a.V[b],this.S[b*4]=this.k[c][0],this.S[b*4+1]=this.k[c][1],this.S[b*4+2]=this.k[c][2],this.S[b*4+3]=255;a=this.u;a[E](a[B],this.o);a[Ga](a[B],0,a[N],this.o[u],this.o[O],0,a[N],a[eb],this.S);a[E](a[B],j)};
P.ec=function(a,b,c,d,e,f){d=this.u;c-=a;var h=this.$a;d.useProgram(h);var i=e==0?this.o:this.r;d.uniform2f(h.b.origin,a,b);d[oa](h.b.scale,c/i[u]);d.bindFramebuffer(d.FRAMEBUFFER,this.v);d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d[B],i,0);d.viewport(0,0,this.v[u],this.v[O]);d.clear(d.COLOR_BUFFER_BIT);d.activeTexture(d.TEXTURE2);d[E](d[B],this.Da);d[pa](h.b.Ic,2);d.bindBuffer(d[jb],this.D);d.vertexAttribPointer(this.$a.oa,this.D.Bb,d.FLOAT,!1,0,0);d[oa](h.b[u],this.v[u]);d[oa](h.b[O],
this.v[O]);d[pa](h.b.Hc,e==1?4:1);f&&f.start();d.drawArrays(d.TRIANGLE_FAN,0,this.D.Cb);if(f){d.finish();f[Wa]();d.readPixels(0,0,this.v[u],this.v[O],d[N],d[eb],this.Ya);a=0;for(b=3;b<this.Ya[F];b+=4)a+=this.Ya[b];a=a*16E3/256;b=Xd[this.n];f.fb+=a*b.Jc}};P.Ad=function(){for(var a=this.S,b=0;b<this.S[F];++b)a[b]=0;b=this.u;b[E](b[B],this.r);b.texSubImage2D(b[B],0,0,0,this.r[u],this.r[O],b[N],b[eb],a)};
P.Oa=function(a,b,c,d){var e=Xd[this.n];this.p<e.md?(e=new Yd,this.ec(a,b,c,d,1,e),md(this,"rendering_done",!1,e)):this.ud(a,b,c,d)};
P.ud=function(a,b,c,d){this.Xa();this.Ad();for(var e=[],f=[this.R/2,this.Q/2],h=0;h<this.Q;h+=256)for(var i=0;i<this.R;i+=256){var l=(f[0]-i-128)*(f[0]-i-128)+(f[1]-h-128)*(f[1]-h-128);e[t]([i,h,l])}e=e.sort(function(a,b){return a[2]-b[2]});for(f=0;f<e[F];++f)i=e[f][0],h=e[f][1],this.Bd(a+(c-a)*i/this.R,b+(d-b)*h/this.Q,a+(c-a)*(i+256)/this.R,b+(d-b)*(h+256)/this.Q,this.Ia,i,h,2)};P.Xa=function(){this.q.reset();++this.Ia};
P.Bd=function(a,b,c,d,e,f,h,i){this.Ia==e&&this.q.Fb(this.n,a,b,c,d,256*i,256*i,R(function(a){if(this.Ia==e){for(var b=this.S,c=256*i,d=i*i,x=0,I=0;I<256;++I)for(var G=0;G<256;++G,x+=4){for(var wa=[0,0,0],Sc=0;Sc<i;++Sc)for(var Tc=0;Tc<i;++Tc){var Ab=(I*i+Sc)*c+G*i+Tc,Ab=a.V[Ab];wa[0]+=this.k[Ab][0];wa[1]+=this.k[Ab][1];wa[2]+=this.k[Ab][2]}b[x]=wa[0]/d;b[x+1]=wa[1]/d;b[x+2]=wa[2]/d;b[x+3]=255}a=this.u;a[E](a[B],this.r);a.texSubImage2D(a[B],0,f,h,256,256,a[N],a[eb],b);this.qa()}},this))};
P.Yc=function(a,b,c,d){var e=a,f=b,h=a+(c-a)/this.d[u]*this.R,i=b+(d-b)/this.d[O]*this.Q;if(this.C)if((this.ja-this.C)/(c-a)>2)this.ta(e,f,h,i,a,b,c,d),this.Pa(e,f,h,i),this.ia=!1,this.F&&ea(this.F),this.F=ga(R(function(){this.ia=!0;this.Oa(e,f,h,i);this.qa()},this),1E3);else if((this.ja-this.C)/(c-a)<1){var l=h-e,q=i-f;e-=l/2.1;f-=q/2.1;h+=l/2.1;i+=q/2.1;this.ta(e,f,h,i,a,b,c,d);this.Pa(e,f,h,i);this.ia=!1;this.F&&ea(this.F);this.F=ga(R(function(){this.ia=!0;this.Oa(e,f,h,i);this.qa()},this),1E3)}else this.Xa(),
this.ta(this.C,this.Ea,this.ja,this.Fa,a,b,c,d),this.F&&ea(this.F),this.F=ga(R(function(){this.ta(e,f,h,i,a,b,c,d);this.Pa(e,f,h,i);this.ia=!0;this.Oa(e,f,h,i);this.qa()},this),1E3);else this.ta(e,f,h,i,a,b,c,d),this.Pa(e,f,h,i),this.Oa(e,f,h,i),this.ia=!0;this.qa()};
P.qa=function(){var a=this.u,b=this.$;a.useProgram(b);a.bindFramebuffer(a.FRAMEBUFFER,j);a.viewport(0,0,this.d[u],this.d[O]);a.activeTexture(a.TEXTURE1);a[E](a[B],this.o);a[pa](b.b.Fc,1);a.activeTexture(a.TEXTURE2);a[E](a[B],this.r);a[pa](b.b.Ec,2);a.bindBuffer(a[jb],this.D);a.vertexAttribPointer(b.oa,this.D.Bb,a.FLOAT,!1,0,0);a[pa](b.b.Gc,this.ia);a[oa](b.b[u],this.d[u]);a[oa](b.b[O],this.d[O]);a.drawArrays(a.TRIANGLE_FAN,0,this.D.Cb)};
P.kb=function(a,b){p(this.d,a);r(this.d,b);this.Ob();this.hb();this.T(this.k);this.C=j;this[Qa](this.P,this.p)};P.getZoom=function(){return this.p};P.getCenter=function(){return this.P};P.Xb=function(a){for(var b=new Uint8Array(a[F]*4),c=0;c<a[F];++c)b[c*4]=a[c][0],b[c*4+1]=a[c][1],b[c*4+2]=a[c][2],b[c*4+3]=255;a=this.u;a[E](a[B],this.Da);a[Ga](a[B],0,a[N],256,1,0,a[N],a[eb],b);a[E](a[B],j)};P.T=function(a){this.k=a;this.Xb(a);this.C=j;this[Qa](this.P,this.p)};
P.ub=function(a){if(this.n!=a)this.Ob(),this.n=a,this.hb(),this.C=j,this[Qa](new Z(0,0),0)};P.xb=function(){return this.n};P.Ib=function(a){md(this,"rendering_done",!1,a)};function re(a,b,c,d,e){var f=Be(b),b={center:f,zoom:c,mapTypeId:"julia",mapTypeControl:!1,zoomControlOptions:{style:google[L].ZoomControlStyle.SMALL},streetViewControl:!1};this.c=new google[L].Map(a,b);this.N=new Ce;this.q=new Ae(5);this.n=d;this.k=e;this.G=new Dd(this.c,this.N,this.k,this.q,0,this.n);google[L][rb].addListener(this.c,"projection_changed",R(function(){this.c.mapTypes.set("julia",this.G);this.c.setCenter(f);this.c[Ja](c);this.G.Nb(c)},this));google[L][rb].addListener(this.c,"zoom_changed",
R(this.Wc,this));google[L][rb].addListener(this.c,"bounds_changed",R(this.Za,this))}S(re,pd);P=re[H];P.Wc=function(){if(this.c[$a]()==29)this.G.kd(),ga(R(function(){this.c[Ja](1)},this),0);else if(this.c[$a]()==0&&this.G.O>0){var a=this.c[xa]();ga(R(function(){this.G.ld();this.c[Ja](28);this.c.setCenter(a)},this),0)}};P.Za=function(){md(this,"bounds_changed",!1,j)};P.getMap=function(){return this.c};
P.Ub=function(){this.G.stop=!0;if(!this.N)this.N=new Ce;this.G=new Dd(this.c,this.N,this.k,this.q,this.G.O,this.n);this.c.mapTypes.set("julia",this.G);google[L].MapTypeId.julia="julia";this.c.setMapTypeId(google[L].MapTypeId.julia)};P.ub=function(a){this.n=a;this.N=j;this.c.setCenter(new google[L].LatLng(0,0));this.c[Ja](0);this.G.Nb(0);this.Ub()};P.xb=function(){return this.n};P.moveTo=function(){};P.getZoom=function(){return this.c[$a]()};P.getCenter=function(){var a=this.c[xa]();return ye(a)};
P.kb=function(){};P.T=function(a){this.k=a;this.Ub()};function Ae(a){this.ba=[];this.Ma={};this.p=0;this.va=new Yd;this.Zb=!!k.Worker;this.fe=(new Date)[Ua]();if(this.Zb){this.L=[];for(var b=0;b<a;++b)this.L[t](this.$b())}}S(Ae,pd);P=Ae[H];P.setZoom=function(a){if(this.p!=a)this.reset(),this.p=a};P.Pb=function(a,b,c,d,e,f,h){return Zd(Xd[a].Rb,b,c,d,e,f,h)};P.Fb=function(a,b,c,d,e,f,h,i){this.Zb?(a=new De(a,b,c,d,e,f,h,i),this.ba[t](a),this.ba=this.ba.sort(Ee),(a=this.Nd())&&this.bc(a)):i(this.Pb(a,b,c,d,e,f,h))};
P.$b=function(){var a=new Worker(worker_js_url);a.onmessage=R(this.Yd,this);a.onerror=function(a){console.log("Error: "+a[ya])};return new Fe(a)};P.Nd=function(){for(var a=0;a<this.L[F];++a)if(this.L[a].status==0)return this.L[a];return j};P.sd=function(){for(var a=0,b=0;b<this.L[F];++b)this.L[b].status==1&&a++;return a};
P.bc=function(a){var b=this.ba[sa]();b.lb=a;this.Ma[b.Sa]=b;a.Vb.postMessage({functionId:b.ha,requestId:b.Sa,x0:b.ab,y0:b.cb,x1:b.bb,y1:b.eb,stepx:b.wa,stepy:b.xa});a.status=1};P.Yd=function(a){var b=a[ya].requestId;this.va.H+=a[ya].flop;var c=this.Ma[b];delete this.Ma[b];c.lb.status=0;this.ba[F]>0&&this.bc(c.lb);this.ba[F]+this.sd()==0?(this.va[Wa](),md(this,"rendering_done",!1,this.va)):md(this,"tile_rendering_done",!1,this.va);a=Q.Uint8Array?new Ad(a[ya].bitmap,0):new Bd(a[ya].bitmap,0);c.Zc(a)};
P.reset=function(){this.ba=[];for(var a=0;a<this.L[F];++a)this.L[a].status!=0&&(this.L[a].Vb.terminate(),this.L[a]=this.$b());this.Ma={};this.va.start()};function De(a,b,c,d,e,f,h,i){this.ha=a;this.ab=b;this.cb=c;this.bb=d;this.eb=e;this.wa=f;this.xa=h;this.Zc=i;this.Sa=Ge++;this.lb=j}var Ge=0,Ee=function(a,b){return a.wa*a.xa!=b.wa*b.xa?a.wa*a.xa-b.wa*b.xa:b.Sa-a.Sa};function Fe(a){this.Vb=a;this.status=0};for(var He,Ie=[],Je=0,Ke=1;Je<64;Je++,Ke*=2)Ie[t](Ke);var Le=He=Ie;function Ed(a){for(var b=1;a>63;)b*=Le[63],a-=63;b*=Le[a];return b}function Z(a,b){this.f=a;this.g=b}P=Z[H];P.add=function(a){this.f+=a.f;this.g+=a.g};P.sub=function(a){this.f-=a.f;this.g-=a.g};P.gd=function(a){var b=this.f,c=a.f,d=this.g,a=a.g;this.f=b*c-d*a;this.g=b*a+d*c};P.Y=function(){var a=this.f,b=this.g;this.f=a*a-b*b;this.g=2*a*b};P.qb=function(){return this.f*this.f+this.g*this.g};
P.toString=function(){return this.f+" + i "+this.g};function Me(a){return a*(o.PI/180)};var ye=function(a){var b=a.lng()/180,a=o.sin(Me(a.lat())),a=0.5*o.log((1+a)/(1-a))/o.PI;return new Z(b,a)},Be=function(a){var b=a.f*180,a=(2*o.atan(o.exp(a.g*o.PI))-0.5*o.PI)/(o.PI/180);return new google[L].LatLng(a,b)};function $(){this.Z=[];this.size=256}var ke=function(){for(var a=new $,b=8,c=0;c<b;c++)a.a(o[hb](),o[hb](),o[hb]());return a};P=$[H];P.toUrlValue=function(){for(var a=this.Cc(),b="",c=0;c<a[F];c++){b&&(b+=",");var d=0,d=(d<<8)+o[v](255*a[c][0]),d=(d<<8)+o[v](255*a[c][1]),d=(d<<8)+o[v](255*a[c][2]);b+=d[Xa](16)}return b};P.clear=function(){this.Z=[]};P.a=function(a,b,c){this.Z[t]([a,b,c]);return this};P.Cc=function(){return this.Z};
P.La=function(){for(var a=[],b=this.size,c=0;c<b;c++){var d=o[v](c*this.Z[F]/b),e=c*this.Z[F]%b,f=this.Z[d],d=this.Z[(d+1)%this.Z[F]];e/=b;for(var h=[],i=0;i<3;i++)h[t](f[i]+(d[i]-f[i])*e);f=h;for(e=0;e<3;e++)f[e]=o[v](255*f[e]);a[t](f)}return a};
var de=(new $).a(1,1,1).a(1,1,1).a(1,1,1).a(1,1,1).a(1,0,0).a(1,1,0).a(1,1,0).a(0,1,0).a(0,0,1),ee=(new $).a(0,0,0).a(1,1,1),fe=(new $).a(0,0,0).a(1,0,0),ge=(new $).a(1,1,1).a(1,1,0).a(0,0,1).a(1,0,0).a(1,1,0),he=(new $).a(1,1,1).a(0.5,0.5,0.9),ie=(new $).a(0.5,0.5,0.9).a(1,1,1).a(0,1,0).a(0.4,0.2,0);(new $).a(1,0,0).a(1,1,0).a(0,1,0).a(0,1,1).a(0,0,1).a(1,0,1);function je(a,b){la(a,"palette-editor");this.w=[];this.X={};this.W=[];this.pb=a;this.id=0;this.Hb(b)}P=je[H];P.vb=function(a){var b=m[A]("div"),c=new Id(b),d=this.id++;a&&c.Ta(o[v](255*a[0]),o[v](255*a[1]),o[v](255*a[2]));this.pb[s](b);c.pa(R(this.ra,this,d));this.X[d]={div:b,colorBox:c};this.W[t](d)};
P.ra=function(a){for(var b=0;this.W[b]!=a;)b++;var c=this.X[a].colorBox;c.isEmpty()&&b!=this.W[F]-1?(this.pb.removeChild(this.X[a].div),delete this.X[a],this.W[ob](b,1)):!c.isEmpty()&&b==this.W[F]-1&&this.vb();this.U()};P.hd=function(){for(var a=new $,b=0;b<this.W[F];b++){var c=this.W[b],c=this.X[c].colorBox;if(!c.isEmpty()){var d=c.tb(),c=d[0]/255,e=d[1]/255,d=d[2]/255;a.a(c,e,d)}}return a};P.Hb=function(a){this.clear();for(var a=a.Cc(),b=0;b<a[F];b++)this.vb(a[b]);this.vb()};P.pa=function(a){this.w[t](a)};
P.U=function(){for(var a=0;a<this.w[F];a++)this.w[a]()};P.clear=function(){for(var a in this.X)this.pb.removeChild(this.X[a].div);this.X={};this.W=[]};function Ce(a,b){this.na={};this.c=a;this.td=b}Ce[H].put=function(a,b,c,d,e){a=a+"#"+b+"#"+c;this.na[a]&&this.na[a].mb<d||(this.na[a]=new Ne(e,d))};Ce[H].get=function(a,b,c){var d=a+"#"+b+"#"+c;if(d in this.na)return this.na[d];else if(this.c&&d in this.c)return this.put(a,b,c,1,this.wd(d)),this.na[d]};
Ce[H].wd=function(a){var a=this.c[a],b=m[A]("canvas");p(b,"256");r(b,"256");b=b[Ra]("2d");b.drawImage(this.td,a,0,256,256,0,0,256,256);for(var a=b[qa](0,0,256,256),a=a[ya],b=Cd(a[F]),c=b[Ca](),d=0;d<a[F];d+=4)c[d>>2]=a[d];return b};function Ne(a,b){this.dd=a;this.mb=b}; })()
